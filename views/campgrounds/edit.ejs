<% layout('layouts/boilerplate.ejs') %>

<div class="row">
    <h1 class="text-center mb-3">Edit Campground</h1>
    <div class="col-md-6 offset-md-3">
        <form action="/campground/<%= campground._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
            <div class="mb-3">
                <label class="form-label" for="title"><b>Title: </b></label>
                <input class="form-control" type="text" name="campground[title]" id="title" value="<%= campground.title %>" required>  <!-- title and location will be stored in an array named 'campground' -->
            </div>

            <br>

            <div class="mb-3">
                <label class="form-label" for="location"><b>Location: </b></label>
                <input class="form-control" type="text" name="campground[location]" id="location" value="<%= campground.location %>" required>
            </div>


            <div class="mb-4">
                <label for="price" class="form-label"><b>Campground Price</b></label>
                <div class="input-group">
                    <span class="input-group-text" id="price-label">â‚¹</span>
                    <input type="number" class="form-control" aria-label="price-label" id="price" name="campground[price]" value="<%= campground.price %>" required>
                    <span class="input-group-text">Per night</span>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label" for="image"><b>Add Image(s): </b></label>
                <input type="file" name="image" id="image" class="form-control" multiple>
            </div>

            <div class="mb-3">
                <a class="icon-link icon-link-hover" style="--bs-link-hover-color-rgb: 10, 59, 138;" href="/campground/<%= campground._id %>/images/delete">
                    Delete previous image(s)
                </a>
                <% if(deleteImgArr){ %>
                    <% if(deleteImgArr.length===1){ %>
                    <span><%= deleteImgArr.length %> image selected</span>
                    <% } else { %>
                    <span><%= deleteImgArr.length %> images selected</span>
                    <% } %>
                <% } %>
            </div>

            <div class="mb-3">
                <label class="form-label" for="description"><b>Description: </b></label>
                <textarea class="form-control" type="text" name="campground[description]" id="description" required><%= campground.description %></textarea>
                <!-- value attribute will not work for the textarea -->
            </div>

            <div class="mb-3">
                <button type="submit" class="btn btn-primary">Update Campground</button>
            </div>

            <div class="mb-3">
                <a class="icon-link icon-link-hover" style="--bs-link-hover-color-rgb: 10, 59, 138;" href="/campground/<%= campground._id %>">
                    Back to Campground
                </a>
            </div>

        </form>
    </div>
</div>
